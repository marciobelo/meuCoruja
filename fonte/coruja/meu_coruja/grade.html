<!DOCTYPE html>
<html>
    <head>
        <link rel="manifest" href="manifest.json">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <title>Minha Grade Horária</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/tabela.css">
        <link rel="stylesheet" type="text/css" href="css/estilo.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script>

            $(document).ready(function () {

                jQuery(document).ready(adicionarSideBar);

                function adicionarSideBar() {
                    $.get("sidebar.html", function (sidebar) {
                        $('body').prepend(sidebar);
                    });
                }
            });
            $(document).ready(function () {
                var diasSemanaEnum = ["SEG", "TER", "QUA", "QUI", "SEX", "SAB"];
                Object.freeze(diasSemanaEnum);
                
                boletim = JSON.parse(localStorage.getItem('meuCoruja')).boletim.disciplinas;

                for (i = 0; i < boletim.length; i++) {
                    //console.log(boletim[i].minhaGrade);
                    for (j = 0; j < boletim[i].minhaGrade.length; j++) {
                        switch (boletim[i].minhaGrade[j].diaDaSemana) {
                            case "SEG":
                                flg_dia = diasSemanaEnum[0];
                                break;
                            case "TER":
                                flg_dia = diasSemanaEnum[1];
                                break;
                            case "QUA":
                                flg_dia = diasSemanaEnum[2];
                                break;
                            case "QUI":
                                flg_dia = diasSemanaEnum[3];
                                break;
                            case "SEX":
                                flg_dia = diasSemanaEnum[4];
                                break;
                            case "SAB":
                                flg_dia = diasSemanaEnum[5];
                                break;
                        }
                        horario = boletim[i].minhaGrade[j].horario;
                        nomeDisciplina = "testes";
                        siglaDisciplina = boletim[i].minhaGrade[j].siglaDisciplina;
                        professor = boletim[i].minhaGrade[j].professor;
                        $("#" + flg_dia).find('tbody')
                                .append(($('<tr>'))
                                        .append($("<td data-label='Horário'>" + horario + "</td>"))
                                        .append($("<td data-label='Disciplina'>" + siglaDisciplina + "</td>"))
                                        .append($("<td data-label='Sala'>" + boletim[i].minhaGrade[j].sala + "</td>"))
                                        .append($("<td data-label='Professor'>" + professor + "</td>"))
                                        );
                    }


                }

                

                for (i = 0; i < diasSemanaEnum.length; i++) {
                    if (document.getElementById(diasSemanaEnum[i]).rows.length <= 1) {
                        document.getElementById(diasSemanaEnum[i]).style.display = "none";
                    } else
                        document.getElementById("label" + diasSemanaEnum[i]).style.color = "#d74438";
                }

            });

        </script>

    </head>
    <body class="link2">
        <div class="site-wrap">
            <h1 class="titulo-pagina">Grade Horária</h1>
            <ul class="accordion css-accordion">
                <!-- SEG -->
                <li class="accordion-item">
                    <input class="accordion-item-input" type="checkbox" name="accordion" id="item1" />
                    <label for="item1" class="accordion-item-hd" id="labelSEG">Segunda<span class="accordion-item-hd-cta">&#9650;</span></label>
                    <div class="accordion-item-bd">
                        <table id="SEG">
                            <thead>
                                <tr>
                                    <th>Horário</th>
                                    <th>Disciplina</th>
                                    <th>Sala</th>
                                    <th>Professor</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>

                    </div>
                </li>

                <!-- TER -->
                <li class="accordion-item">
                    <input class="accordion-item-input" type="checkbox" name="accordion" id="item2" />
                    <label for="item2" class="accordion-item-hd" id="labelTER">Terça<span class="accordion-item-hd-cta">&#9650;</span></label>
                    <div class="accordion-item-bd">
                        <table id="TER">
                            <thead>
                                <tr>
                                    <th>Horário</th>
                                    <th>Disciplina</th>
                                    <th>Sala</th>
                                    <th>Professor</th>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                </li>

                <!-- QUA -->
                <li class="accordion-item">
                    <input class="accordion-item-input" type="checkbox" name="accordion" id="item3" />
                    <label for="item3" class="accordion-item-hd" id="labelQUA">Quarta<span class="accordion-item-hd-cta">&#9650;</span></label>
                    <div class="accordion-item-bd">
                        <table id="QUA">
                            <thead>
                                <tr>
                                    <th>Horário</th>
                                    <th>Disciplina</th>
                                    <th>Sala</th>
                                    <th>Professor</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </li>

                <!-- QUI -->
                <li class="accordion-item">
                    <input class="accordion-item-input" type="checkbox" name="accordion" id="item4" />
                    <label for="item4" class="accordion-item-hd" id="labelQUI">Quinta<span class="accordion-item-hd-cta">&#9650;</span></label>
                    <div class="accordion-item-bd">
                        <table id="QUI">
                            <thead>
                                <tr>
                                    <th>Horário</th>
                                    <th>Disciplina</th>
                                    <th>Sala</th>
                                    <th>Professor</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </li>

                <!-- SEX -->
                <li class="accordion-item">
                    <input class="accordion-item-input" type="checkbox" name="accordion" id="item5" />
                    <label for="item5" class="accordion-item-hd" id="labelSEX">Sexta<span class="accordion-item-hd-cta">&#9650;</span></label>
                    <div class="accordion-item-bd">
                        <table id="SEX">
                            <thead>
                                <tr>
                                    <th>Horário</th>
                                    <th>Disciplina</th>
                                    <th>Sala</th>
                                    <th>Professor</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </li>

                <!-- SAB -->
                <li class="accordion-item">
                    <input class="accordion-item-input" type="checkbox" name="accordion" id="item6" />
                    <label for="item6" class="accordion-item-hd" id="labelSAB">Sábado<span class="accordion-item-hd-cta">&#9650;</span></label>
                    <div class="accordion-item-bd">
                        <table id="SAB">
                            <thead>
                                <tr>
                                    <th>Horário</th>
                                    <th>Disciplina</th>
                                    <th>Sala</th>
                                    <th>Professor</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </li>
            </ul>
        </div>
    </body>
</html>